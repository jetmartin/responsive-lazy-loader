/**
 * @file
 * responsivelazyloader JQuery plugin
 * @see : http://jetmartin.github.io/responsive-lazy-loader
 * Version 0.1.8
 */
!function(a){a.fn.responsivelazyloader=function(e){function t(e){var t="defaults",i=a(e);for(display in r.displays)if(i.hasClass(r.displays[display].gridClass)||i.closest(void 0!=r.displays[display].parent?r.displays[display].parent:"."+r.displays[display].gridClass).hasClass(r.displays[display].gridClass)){t=display;break}i.attr("data-display",t)}function i(e){var i=a(e);i.attr("data-display")||t(i);var s=i.attr("data-display"),d=null;return s&&r.displays[s]&&(r.displays[s].display[o]?d=r.displays[s].display[o]:r.displays[s].display.defaults&&(d=r.displays[s].display.defaults)),d||(d=r.displays.defaults.display[o]?r.displays.defaults.display[o]:r.displays.defaults.display.defaults),i.attr("data-src-"+s+"-"+o)?i.attr("data-src-"+s+"-"+o).replace(r.token,d):i.attr("data-src-"+s)?i.attr("data-src-"+s).replace(r.token,d):i.attr("data-src-"+o)?i.attr("data-src-"+o).replace(r.token,d):i.attr("data-src")?i.attr("data-src").replace(r.token,d):i.attr("src")}function s(e,t,i){a(e).each(function(){var e=a(this);(a.fn.responsivelazyloader.windowView(e,t)||t.force===!0)&&e.attr("data-current-mediaq")!=o&&(e.attr("data-current-mediaq",o),d(e,i),e.fadeIn(t.fade))})}function d(e,t){var s=a(e),d=s.is("img");s.hide().one("load",function(){var e=a(this);("naturalWidth"in this!=!0||"naturalHeight"in this!=!0)&&(e.hide().css("width","auto"),this.naturalWidth=e.width(),this.naturalHeight=e.height(),e.show()),a.event.trigger({type:"responsiveImageLoaded",image:e}),void 0==e.attr("data-loaded")&&(l-=1,e.attr("data-loaded",!0)),(void 0===t||"load"===t||"scroll"===t&&r.useScroll||"resize"===t&&r.useResize)&&r.onImageShow.call(e),0===l&&(r.onAllImagesLoad.call(images,{query:o}),l=images.length),void 0!==a(this).off&&a(this).off("error")}).each(function(){var e=a(this);e.width>0&&e.height>0&&e.trigger("load")}).one("error",function(){var e=a(this);(""!==e.attr("src")&&d||e.css("background-image")&&!d)&&(void 0==e.attr("data-loaded")&&(l-=1,e.attr("data-loaded",!0)),r.onImageError())}).each(function(){var e=a(this);d?e.attr("src",null).attr("src",i(s)):e.css("background-image","url("+i(s)+")")})}var r=a.extend(a.fn.responsivelazyloader.defaults,e),n=a(this),l=n.length;if(l>0){var o=a.fn.responsivelazyloader.getCurrentMediaQuery();a(document).ready(function(){s(n,r,"load")}),a(window).bind("scroll",function(){s(n,r,"scroll")}),a(window).resize(function(){var e=a.fn.responsivelazyloader.getCurrentMediaQuery();o!=e&&(a.event.trigger({type:"onMediaqueryChange",CurrentMediaQuery:e,PreviousMediaQuery:o}),o=e,s(n,r,"resize"))})}return a(this)},a.fn.responsivelazyloader.is_valid_mediaQuery=function(a){return"matchMedia"in window?window.matchMedia(a).matches:"undefined"!=typeof Modernizr&&Modernizr.mq(a)?!0:!1},a.fn.responsivelazyloader.getCurrentMediaQuery=function(){var e="defaults",t=a.fn.responsivelazyloader.defaults;for(var i in t.mediaQueries)a.fn.responsivelazyloader.is_valid_mediaQuery(t.mediaQueries[i])&&(e=i);return e},a.fn.responsivelazyloader.windowView=function(e,t){var i=a(e),s=a(window).height(),d=a(window).width(),r=a(window).scrollTop()-t.distance,n=r+s+2*t.distance,l=a(window).scrollLeft()-t.distance,o=l+d+2*t.distance,u=i.height(),c=i.width(),p=i.offset().top-t.distance,f=p+u+t.distance,y=i.offset().left-t.distance,h=y+c+t.distance;return!((p>n||r>p)&&(f>n||r>f)||(y>o||l>y)&&(h>o||l>h))},a.fn.responsivelazyloader.defaults={distance:0,fade:400,force:!1,useScroll:!0,useResize:!0,token:"[[display]]",mediaQueries:{phone:"(max-width: 460px)",tablet:"(min-width: 461px) and (max-width: 991px)",desktop:"(min-width: 992px)"},displays:{defaults:{display:{tablet:"tablet",phone:"phone",defaults:"desktop"}}},onImageShow:function(){},onImageError:function(){},onAllImagesLoad:function(){}}}(jQuery);